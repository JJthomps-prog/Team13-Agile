<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/home.css">
    <link rel="stylesheet" type="text/css" href="../css/latest-topic.css">
    <title>Forum Interface - User Story</title>
    <!-- Add your CSS stylesheets and other meta tags here -->
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/latest-topic">Latest Topics</a></li>
            <li><a href="/latest-topic/popular-topics">Popular Topics</a></li>
            <li class="dropdown">
                <div>Categories</div>
                <div class="dropdown-content">
                    <!-- List of categories with links -->
                    <a href="/categories/events">Events</a>
                    <a href="/categories/jobs">Jobs</a>
                    <a href="/categories/news">News</a>
                    <!-- Add more categories as needed -->
                </div>
            </li>
            <!-- Add more navigation links as needed -->
            <li><a href="/login">Login</a></li>
            <li><a href="/register">Register</a></li>
        </ul>
        <!-- Add search bar here -->
        <li><input type="text" id="search-bar" placeholder="Search..."></li>
    </nav>

    <!-- Main Content -->
    <div id="content">
        <!-- Section to Create Profiles -->
        <section id="create-profile">
            <h2>Create Profile</h2>
            <form action="/create_profile" method="POST">
                <label for="profileType">Profile Type:</label>
                <select id="profileType" name="profileType">
                    <option value="business">Business</option>
                    <option value="landmark">Landmark</option>
                    <option value="festival">Festival</option>
                    <!-- Add more options as needed -->
                </select>
                <br>
                <label for="profileName">Name:</label>
                <input type="text" id="profileName" name="profileName" required>
                <br>
                <label for="profileDescription">Description:</label>
                <textarea id="profileDescription" name="profileDescription" required></textarea>
                <br>
                <input type="submit" value="Create Profile">
            </form>
        </section>

        <!-- Section to Display and Review Profiles -->
        <section id="profiles">
            <h2>Profiles</h2>
            <!-- Display profiles here. You might fetch and display these dynamically with JavaScript -->
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <!-- Add sections for community activities, forum statistics, etc. -->
        <!-- Add links to rules/guidelines and social media sharing features -->
    </footer>

    <script>
        // Retrieve the username from localStorage
        const username = sessionStorage.getItem("username");
        document.addEventListener("DOMContentLoaded", function () {
            // Replace this with your logic to fetch and update announcements.
            const announcementsSection = document.querySelector(".announcements");
            const announcementsContent = "Important announcement: Please read the forum rules. Don't put advertisement in replies.";

            // Update the content in the Announcements Section
            announcementsSection.querySelector("p").textContent = announcementsContent;
        });
        if (username) {
            document.getElementById("usernamePlaceholder").textContent = username;
        }
        fetch('./latest-topic.html')
            .then(response => response.text())
            .then(data => {
                const tempElement = document.createElement('div');
                tempElement.innerHTML = data;

                // Select and insert the content within the specified section
                const contentToinsert = tempElement.querySelector('#latest-topics-content');
                if (contentToInsert) {
                    // Remove "Show Content" buttons and associated event handlers
                    const buttons = contentToInsert.querySelectorAll('.toggle-button');
                    buttons.forEach(button => button.remove());

                    // Insert the content (excluding the buttons)
                    document.getElementById('content').appendChild(contentToInsert);
                }
            }).catch(error => console.error(error));
    </script>
</body>
</html>
